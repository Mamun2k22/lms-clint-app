(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16698,e=>{"use strict";e.s(["api",()=>a,"serverApi",()=>t]);let s="http://localhost:4000";async function a(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=localStorage.getItem("token"),r=new Headers(a.headers);r.has("Content-Type")||r.set("Content-Type","application/json"),t&&r.set("Authorization","Bearer ".concat(t));let i=await fetch("".concat(s).concat(e),{...a,headers:r,cache:"no-store"});if(!i.ok)throw await i.json().catch(()=>({message:i.statusText}));return await i.json()}async function t(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=await fetch("".concat(s).concat(e),{...a,cache:"no-store"});if(!t.ok)throw await t.json().catch(()=>({message:t.statusText}));return await t.json()}},80916,e=>{"use strict";e.s(["default",()=>r]);var s=e.i(22834),a=e.i(74340),t=e.i(16698);function r(){let[e,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(""),[n,o]=(0,a.useState)(0),[c,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[h,u]=(0,a.useState)(!0),[g,p]=(0,a.useState)(!1);async function b(){u(!0),r(await (0,t.serverApi)("/courses")),u(!1)}async function f(e){e.preventDefault(),p(!0),await (0,t.api)("/courses",{method:"POST",body:JSON.stringify({title:i,price:Number(n),slug:c,description:m})}),l(""),o(0),d(""),x(""),p(!1),await b()}async function j(e){await (0,t.api)("/courses/".concat(e),{method:"DELETE"}),await b()}return(0,a.useEffect)(()=>{b()},[]),(0,s.jsx)("div",{className:"min-h-[calc(100vh-64px)] bg-gradient-to-b from-gray-50 to-white",children:(0,s.jsxs)("div",{className:"mx-auto max-w-7xl px-4 py-8 lg:px-8 space-y-8",children:[(0,s.jsxs)("header",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5",children:[(0,s.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),"Admin"]}),(0,s.jsx)("span",{children:"›"}),(0,s.jsx)("span",{className:"font-medium text-gray-700",children:"Courses"})]}),(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight",children:"Courses"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Create, manage and organize your course catalog."})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"inline-flex items-center gap-2 rounded-full border bg-white px-3 py-1.5 text-sm text-gray-700 shadow-sm",children:[(0,s.jsx)("span",{className:"inline-flex h-2 w-2 rounded-full bg-gray-300"}),"Total:",(0,s.jsx)("span",{className:"font-semibold",children:e.length})]}),(0,s.jsxs)("button",{onClick:b,className:"inline-flex items-center gap-2 rounded-lg border bg-white px-3 py-2 text-sm shadow-sm transition hover:bg-gray-50 active:scale-[0.98]","aria-label":"Refresh courses",title:"Refresh",children:[(0,s.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992V4.356M2.985 14.652H7.98v4.992"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.015 9.348A8.016 8.016 0 0012 4.332c-2.78 0-5.26 1.42-6.73 3.586M2.985 14.652A8.016 8.016 0 0012 19.668c2.78 0 5.26-1.42 6.73-3.586"})]}),"Refresh"]})]})]}),(0,s.jsxs)("section",{className:"rounded-2xl border bg-white/80 backdrop-blur shadow-sm ring-1 ring-gray-100",children:[(0,s.jsx)("div",{className:"border-b px-5 py-4",children:(0,s.jsx)("h2",{className:"text-base font-semibold",children:"Add new course"})}),(0,s.jsxs)("form",{onSubmit:f,className:"grid gap-5 px-5 py-5 sm:grid-cols-2","aria-label":"Create course form",children:[(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"block text-sm font-medium",htmlFor:"title",children:"Title"}),(0,s.jsx)("input",{id:"title",className:"h-11 w-full rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none ring-0 focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"e.g. Next.js Basics",value:i,onChange:e=>l(e.target.value),required:!0}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"The headline shown across the site."})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"block text-sm font-medium",htmlFor:"slug",children:"Slug"}),(0,s.jsx)("input",{id:"slug",className:"h-11 w-full rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none ring-0 focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"nextjs-basics",value:c,onChange:e=>d(e.target.value),required:!0}),(0,s.jsxs)("p",{className:"text-xs text-gray-500",children:["Used in URL, like ",(0,s.jsx)("code",{children:"/courses/your-slug"}),"."]})]}),(0,s.jsxs)("div",{className:"space-y-1.5",children:[(0,s.jsx)("label",{className:"block text-sm font-medium",htmlFor:"price",children:"Price"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("span",{className:"pointer-events-none absolute inset-y-0 left-3 flex items-center text-gray-400",children:"$"}),(0,s.jsx)("input",{id:"price",type:"number",min:0,className:"h-11 w-full rounded-xl border border-gray-200 bg-white pl-7 pr-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"0",value:n,onChange:e=>o(Number(e.target.value)),required:!0})]}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Set 0 for free courses."})]}),(0,s.jsxs)("div",{className:"sm:col-span-2 space-y-1.5",children:[(0,s.jsx)("label",{className:"block text-sm font-medium",htmlFor:"description",children:"Description"}),(0,s.jsx)("textarea",{id:"description",rows:3,className:"w-full rounded-xl border border-gray-200 bg-white px-3 py-2 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"Short summary of what learners will get.",value:m,onChange:e=>x(e.target.value)})]}),(0,s.jsx)("div",{className:"sm:col-span-2",children:(0,s.jsx)("button",{className:"inline-flex w-full items-center justify-center rounded-xl bg-gray-900 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition hover:bg-black active:scale-[0.98] sm:w-auto",type:"submit","aria-label":"Create course",disabled:g,children:g?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("svg",{className:"mr-2 h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,children:(0,s.jsx)("path",{d:"M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"})}),"Creating…"]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"mr-2",children:"➕"})," Create Course"]})})})]})]}),(0,s.jsxs)("section",{className:"space-y-3",children:[(0,s.jsx)("h2",{className:"text-base font-semibold",children:"All courses"}),h?(0,s.jsx)("ul",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[void 0,void 0,void 0].map((e,a)=>(0,s.jsxs)("li",{className:"rounded-2xl border bg-white/70 p-4 shadow-sm ring-1 ring-gray-100",children:[(0,s.jsx)("div",{className:"h-5 w-2/3 animate-pulse rounded bg-gray-200"}),(0,s.jsx)("div",{className:"mt-2 h-3 w-1/3 animate-pulse rounded bg-gray-200"}),(0,s.jsx)("div",{className:"mt-6 h-9 w-full animate-pulse rounded bg-gray-200"})]},a))}):0===e.length?(0,s.jsx)("div",{className:"rounded-2xl border bg-white/70 p-8 text-center text-sm text-gray-600 shadow-sm ring-1 ring-gray-100",children:"No courses yet. Create your first course from the form above."}):(0,s.jsx)("ul",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:e.map(e=>{var a;return(0,s.jsxs)("li",{className:"group rounded-2xl border bg-white/80 p-4 shadow-sm ring-1 ring-gray-100 transition hover:shadow-md",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h3",{className:"truncate text-base font-semibold tracking-tight",children:e.title}),(0,s.jsxs)("p",{className:"mt-0.5 line-clamp-2 text-sm text-gray-600",children:["/",e.slug]})]}),(0,s.jsxs)("span",{className:"shrink-0 rounded-full border bg-white px-2.5 py-1 text-xs font-medium text-gray-800 shadow-sm",children:["$",Number(null!=(a=e.price)?a:0).toFixed(2)]})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[(0,s.jsx)("a",{className:"inline-flex items-center justify-center rounded-lg border bg-white px-3 py-2 text-sm transition hover:bg-gray-50",href:"/admin/courses/".concat(e._id,"/content"),"aria-label":"Manage course ".concat(e.title),children:"Manage"}),(0,s.jsx)("button",{onClick:()=>j(e._id),className:"inline-flex items-center justify-center rounded-lg border bg-white px-3 py-2 text-sm text-red-600 transition hover:bg-red-50 hover:border-red-200","aria-label":"Delete course ".concat(e.title),children:"Delete"})]})]},e._id)})})]})]})})}}]);