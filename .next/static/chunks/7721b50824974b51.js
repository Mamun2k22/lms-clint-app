(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,16698,e=>{"use strict";e.s(["api",()=>t,"serverApi",()=>r]);let s="http://localhost:4000";async function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=localStorage.getItem("token"),a=new Headers(t.headers);a.has("Content-Type")||a.set("Content-Type","application/json"),r&&a.set("Authorization","Bearer ".concat(r));let i=await fetch("".concat(s).concat(e),{...t,headers:a,cache:"no-store"});if(!i.ok)throw await i.json().catch(()=>({message:i.statusText}));return await i.json()}async function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=await fetch("".concat(s).concat(e),{...t,cache:"no-store"});if(!r.ok)throw await r.json().catch(()=>({message:r.statusText}));return await r.json()}},46737,e=>{"use strict";e.s(["default",()=>a]);var s=e.i(22834),t=e.i(74340),r=e.i(16698);function a(){let[e,a]=(0,t.useState)([]),[n,c]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(0,r.serverApi)("/courses").then(e=>a(e)).catch(()=>a([])).finally(()=>c(!1))},[]);let o=(0,t.useMemo)(()=>{let s=e.length,t=e.filter(e=>Number(e.price)>0).length,r=s?e.reduce((e,s)=>e+Number(s.price||0),0)/s:0;return{total:s,paid:t,free:s-t,avgPrice:r}},[e]);return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Dashboard"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:"Quick overview of your course catalog and recent updates."})]}),(0,s.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(i,{label:"Total Courses",value:o.total,color:"from-sky-500 to-cyan-500"}),(0,s.jsx)(i,{label:"Paid Courses",value:o.paid,color:"from-emerald-500 to-teal-500"}),(0,s.jsx)(i,{label:"Free Courses",value:o.free,color:"from-orange-400 to-pink-500"}),(0,s.jsx)(i,{label:"Avg. Price",value:"$".concat(o.avgPrice.toFixed(2)),color:"from-violet-500 to-fuchsia-500"})]}),(0,s.jsxs)("section",{className:"rounded-3xl border bg-white/80 backdrop-blur shadow-sm ring-1 ring-black/5",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-3 border-b px-6 py-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-black text-white shadow-sm",children:"ðŸ“š"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-bold leading-tight",children:"Recent Courses"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Your latest published or updated items"})]})]}),(0,s.jsxs)("a",{href:"/admin/courses",className:"inline-flex items-center gap-1 rounded-xl border bg-white px-3 py-1.5 text-sm font-medium shadow-sm transition hover:bg-gray-50",children:["View all ",(0,s.jsx)("span",{"aria-hidden":!0,children:"â†’"})]})]}),(0,s.jsx)("div",{className:"px-6 py-6 bg-gradient-to-br from-white/60 via-white/70 to-gray-50/70 rounded-b-3xl",children:n?(0,s.jsx)("ul",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((e,t)=>(0,s.jsxs)("li",{className:"rounded-2xl border bg-white/70 p-5 shadow-sm ring-1 ring-gray-100",children:[(0,s.jsx)("div",{className:"h-5 w-2/3 animate-pulse rounded bg-gray-200"}),(0,s.jsx)("div",{className:"mt-2 h-3 w-1/3 animate-pulse rounded bg-gray-200"}),(0,s.jsx)("div",{className:"mt-5 h-9 w-full animate-pulse rounded bg-gray-200"})]},t))}):0===e.length?(0,s.jsxs)("div",{className:"rounded-2xl border border-dashed bg-white/70 p-10 text-center shadow-sm ring-1 ring-gray-100",children:[(0,s.jsx)("div",{className:"mx-auto mb-3 grid h-12 w-12 place-items-center rounded-full bg-gray-100 text-lg",children:"ï¼‹"}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:["No courses yet. Create one from"," ",(0,s.jsx)("a",{className:"text-blue-600 underline",href:"/admin/courses",children:"Courses"}),"."]})]}):(0,s.jsx)("ul",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.slice(0,12).map(e=>(0,s.jsx)(l,{course:e},e._id))})})]})]})}function i(e){let{label:t,value:r,color:a="from-indigo-500 to-purple-500"}=e;return(0,s.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-gray-200",children:[(0,s.jsx)("div",{className:"h-1 w-full bg-gradient-to-r ".concat(a)}),(0,s.jsxs)("div",{className:"p-5",children:[(0,s.jsx)("div",{className:"text-xs uppercase tracking-wide/relaxed text-gray-600",children:t}),(0,s.jsx)("div",{className:"mt-2 text-2xl font-bold",children:r})]})]})}function l(e){var t;let{course:r}=e,a=Number(null!=(t=r.price)?t:0),i=a>0;return(0,s.jsxs)("li",{className:"group relative rounded-2xl border bg-white p-5 shadow-sm ring-1 ring-gray-200 transition hover:-translate-y-0.5 hover:shadow-md",children:[(0,s.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-2xl shadow-[inset_0_1px_theme(colors.gray.100)]"}),(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("h3",{className:"truncate text-base font-semibold tracking-tight",children:r.title}),(0,s.jsxs)("p",{className:"mt-0.5 text-sm text-gray-500",children:["/",r.slug]})]}),(0,s.jsxs)("span",{className:"shrink-0 rounded-full bg-gray-100 px-2.5 py-1 text-xs font-medium text-gray-800 shadow-sm ring-1 ring-gray-200",title:i?"Paid":"Free",children:["$",a.toFixed(2)]})]}),(0,s.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[(0,s.jsx)("a",{href:"/admin/courses/".concat(r._id,"/content"),className:"inline-flex items-center justify-center rounded-xl bg-gray-900 px-3 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-black active:scale-[0.98]",children:"Manage"}),(0,s.jsx)("a",{href:"/courses/".concat(r.slug),target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-xl border bg-white px-3 py-2 text-sm font-medium text-gray-900 shadow-sm ring-1 ring-gray-200 transition hover:bg-gray-50",children:"Preview"})]})]})}}]);