(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2563:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});var a=t(5155),r=t(2115),i=t(6890);function l(){let[e,s]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0);(0,r.useEffect)(()=>{(0,i.Q)("/courses").then(e=>s(e)).catch(()=>s([])).finally(()=>l(!1))},[]);let o=(0,r.useMemo)(()=>{let s=e.length,t=e.filter(e=>Number(e.price)>0).length,a=s?e.reduce((e,s)=>e+Number(s.price||0),0)/s:0;return{total:s,paid:t,free:s-t,avgPrice:a}},[e]);return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-extrabold tracking-tight",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Quick overview of your course catalog and recent updates."})]}),(0,a.jsxs)("section",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsx)(n,{label:"Total Courses",value:o.total,color:"from-sky-500 to-cyan-500"}),(0,a.jsx)(n,{label:"Paid Courses",value:o.paid,color:"from-emerald-500 to-teal-500"}),(0,a.jsx)(n,{label:"Free Courses",value:o.free,color:"from-orange-400 to-pink-500"}),(0,a.jsx)(n,{label:"Avg. Price",value:"$".concat(o.avgPrice.toFixed(2)),color:"from-violet-500 to-fuchsia-500"})]}),(0,a.jsxs)("section",{className:"rounded-3xl border bg-white/80 backdrop-blur shadow-sm ring-1 ring-black/5",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3 border-b px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-black text-white shadow-sm",children:"\uD83D\uDCDA"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold leading-tight",children:"Recent Courses"}),(0,a.jsx)("p",{className:"text-xs text-gray-600",children:"Your latest published or updated items"})]})]}),(0,a.jsxs)("a",{href:"/admin/courses",className:"inline-flex items-center gap-1 rounded-xl border bg-white px-3 py-1.5 text-sm font-medium shadow-sm transition hover:bg-gray-50",children:["View all ",(0,a.jsx)("span",{"aria-hidden":!0,children:"→"})]})]}),(0,a.jsx)("div",{className:"px-6 py-6 bg-gradient-to-br from-white/60 via-white/70 to-gray-50/70 rounded-b-3xl",children:t?(0,a.jsx)("ul",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((e,s)=>(0,a.jsxs)("li",{className:"rounded-2xl border bg-white/70 p-5 shadow-sm ring-1 ring-gray-100",children:[(0,a.jsx)("div",{className:"h-5 w-2/3 animate-pulse rounded bg-gray-200"}),(0,a.jsx)("div",{className:"mt-2 h-3 w-1/3 animate-pulse rounded bg-gray-200"}),(0,a.jsx)("div",{className:"mt-5 h-9 w-full animate-pulse rounded bg-gray-200"})]},s))}):0===e.length?(0,a.jsxs)("div",{className:"rounded-2xl border border-dashed bg-white/70 p-10 text-center shadow-sm ring-1 ring-gray-100",children:[(0,a.jsx)("div",{className:"mx-auto mb-3 grid h-12 w-12 place-items-center rounded-full bg-gray-100 text-lg",children:"＋"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["No courses yet. Create one from"," ",(0,a.jsx)("a",{className:"text-blue-600 underline",href:"/admin/courses",children:"Courses"}),"."]})]}):(0,a.jsx)("ul",{className:"grid gap-5 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.slice(0,12).map(e=>(0,a.jsx)(c,{course:e},e._id))})})]})]})}function n(e){let{label:s,value:t,color:r="from-indigo-500 to-purple-500"}=e;return(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-white shadow-sm ring-1 ring-gray-200",children:[(0,a.jsx)("div",{className:"h-1 w-full bg-gradient-to-r ".concat(r)}),(0,a.jsxs)("div",{className:"p-5",children:[(0,a.jsx)("div",{className:"text-xs uppercase tracking-wide/relaxed text-gray-600",children:s}),(0,a.jsx)("div",{className:"mt-2 text-2xl font-bold",children:t})]})]})}function c(e){var s;let{course:t}=e,r=Number(null!=(s=t.price)?s:0),i=r>0;return(0,a.jsxs)("li",{className:"group relative rounded-2xl border bg-white p-5 shadow-sm ring-1 ring-gray-200 transition hover:-translate-y-0.5 hover:shadow-md",children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0 rounded-2xl shadow-[inset_0_1px_theme(colors.gray.100)]"}),(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h3",{className:"truncate text-base font-semibold tracking-tight",children:t.title}),(0,a.jsxs)("p",{className:"mt-0.5 text-sm text-gray-500",children:["/",t.slug]})]}),(0,a.jsxs)("span",{className:"shrink-0 rounded-full bg-gray-100 px-2.5 py-1 text-xs font-medium text-gray-800 shadow-sm ring-1 ring-gray-200",title:i?"Paid":"Free",children:["$",r.toFixed(2)]})]}),(0,a.jsxs)("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[(0,a.jsx)("a",{href:"/admin/courses/".concat(t._id,"/content"),className:"inline-flex items-center justify-center rounded-xl bg-gray-900 px-3 py-2 text-sm font-medium text-white shadow-sm transition hover:bg-black active:scale-[0.98]",children:"Manage"}),(0,a.jsx)("a",{href:"/courses/".concat(t.slug),target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-xl border bg-white px-3 py-2 text-sm font-medium text-gray-900 shadow-sm ring-1 ring-gray-200 transition hover:bg-gray-50",children:"Preview"})]})]})}},6890:(e,s,t)=>{"use strict";t.d(s,{F:()=>r,Q:()=>i});let a="https://lms-system-backend-dusky.vercel.app";async function r(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=localStorage.getItem("token"),r=new Headers(s.headers);r.has("Content-Type")||r.set("Content-Type","application/json"),t&&r.set("Authorization","Bearer ".concat(t));let i=await fetch("".concat(a).concat(e),{...s,headers:r,cache:"no-store"});if(!i.ok)throw await i.json().catch(()=>({message:i.statusText}));return await i.json()}async function i(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=await fetch("".concat(a).concat(e),{...s,cache:"no-store"});if(!t.ok)throw await t.json().catch(()=>({message:t.statusText}));return await t.json()}},8249:(e,s,t)=>{Promise.resolve().then(t.bind(t,2563))}},e=>{e.O(0,[441,255,358],()=>e(e.s=8249)),_N_E=e.O()}]);