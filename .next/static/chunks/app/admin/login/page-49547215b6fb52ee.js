(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[116],{430:(e,t,a)=>{Promise.resolve().then(a.bind(a,6505))},6505:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(5155),n=a(2115),o=a(63),i=a(6890),l=a(556);let r=l.Ik({email:l.Yj().email("Valid email required"),password:l.Yj().min(6,"Minimum 6 characters")});function c(){let[e,t]=(0,n.useState)("admin@demo.com"),[a,l]=(0,n.useState)("admin123"),[c,d]=(0,n.useState)(null),u=(0,o.useRouter)();async function m(t){t.preventDefault(),d(null);let s=r.safeParse({email:e,password:a});if(!s.success)return void d("Fix the highlighted fields");try{let e=await (0,i.F)("/auth/login",{method:"POST",body:JSON.stringify(s.data)});localStorage.setItem("token",e.token),u.push("/admin/courses")}catch(e){e instanceof Error?d(e.message):"object"==typeof e&&e&&"message"in e?d(String(e.message)||"Login failed"):d("Login failed")}}return(0,s.jsx)("div",{className:"min-h-screen grid place-items-center p-6",children:(0,s.jsxs)("form",{onSubmit:m,className:"w-full max-w-sm space-y-3 border rounded-xl p-6",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold",children:"Admin Login"}),c&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:c}),(0,s.jsx)("input",{type:"email",className:"w-full border rounded px-3 py-2",value:e,onChange:e=>t(e.target.value),placeholder:"Email"}),(0,s.jsx)("input",{type:"password",className:"w-full border rounded px-3 py-2",value:a,onChange:e=>l(e.target.value),placeholder:"Password"}),(0,s.jsx)("button",{className:"w-full rounded px-3 py-2 bg-black text-white",children:"Sign in"})]})})}},6890:(e,t,a)=>{"use strict";a.d(t,{F:()=>n,Q:()=>o});let s="https://lms-system-backend-dusky.vercel.app";async function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("token"),n=new Headers(t.headers);n.has("Content-Type")||n.set("Content-Type","application/json"),a&&n.set("Authorization","Bearer ".concat(a));let o=await fetch("".concat(s).concat(e),{...t,headers:n,cache:"no-store"});if(!o.ok)throw await o.json().catch(()=>({message:o.statusText}));return await o.json()}async function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=await fetch("".concat(s).concat(e),{...t,cache:"no-store"});if(!a.ok)throw await a.json().catch(()=>({message:a.statusText}));return await a.json()}}},e=>{e.O(0,[457,441,255,358],()=>e(e.s=430)),_N_E=e.O()}]);