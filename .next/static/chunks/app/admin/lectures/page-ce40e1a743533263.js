(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40],{3751:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var a=t(5155),l=t(2115),c=t(6890);function r(){let[e,s]=(0,l.useState)([]),[t,r]=(0,l.useState)([]),[n,o]=(0,l.useState)([]),[d,i]=(0,l.useState)(""),[u,h]=(0,l.useState)(""),[x,p]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{s(await (0,c.F)("/courses"))})()},[]),(0,l.useEffect)(()=>{(async()=>{r(await (0,c.F)("/modules".concat(d?"?course=".concat(d):""))),h("")})()},[d]),(0,l.useEffect)(()=>{(async()=>{let e=[];d&&e.push("course=".concat(d)),u&&e.push("module=".concat(u));let s="/lectures".concat(e.length?"?".concat(e.join("&")):"");o(await (0,c.F)(s))})()},[d,u]);let m=(0,l.useMemo)(()=>{let e=x.trim().toLowerCase();return e?n.filter(s=>s.title.toLowerCase().includes(e)):n},[n,x]);return(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Lecture List"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Filter by course or module, search by title."})]}),(0,a.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,a.jsxs)("select",{value:d,onChange:e=>i(e.target.value),className:"rounded-xl border px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"All courses"}),e.map(e=>(0,a.jsx)("option",{value:e._id,children:e.title},e._id))]}),(0,a.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"rounded-xl border px-3 py-2",children:[(0,a.jsx)("option",{value:"",children:"All modules"}),t.map(e=>(0,a.jsx)("option",{value:e._id,children:"Module ".concat(e.moduleNo,": ").concat(e.title)},e._id))]}),(0,a.jsx)("input",{value:x,onChange:e=>p(e.target.value),placeholder:"Search by lecture title…",className:"rounded-xl border px-3 py-2"})]}),(0,a.jsx)("div",{className:"overflow-auto rounded-2xl border",children:(0,a.jsxs)("table",{className:"min-w-full text-sm",children:[(0,a.jsx)("thead",{className:"bg-gray-50 text-left",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3",children:"Order"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Lecture Title"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Module"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"Video URL"}),(0,a.jsx)("th",{className:"px-4 py-3",children:"PDFs"})]})}),(0,a.jsxs)("tbody",{children:[m.map(e=>{var s;let l=t.find(s=>s._id===e.moduleId);return(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsxs)("td",{className:"px-4 py-3 font-medium",children:["#",e.order]}),(0,a.jsx)("td",{className:"px-4 py-3",children:e.title}),(0,a.jsx)("td",{className:"px-4 py-3",children:l?"M".concat(l.moduleNo," — ").concat(l.title):"-"}),(0,a.jsx)("td",{className:"px-4 py-3",children:(0,a.jsx)("a",{href:e.videoUrl,target:"_blank",className:"underline break-words",rel:"noreferrer",children:e.videoUrl})}),(0,a.jsx)("td",{className:"px-4 py-3",children:(null==(s=e.pdfs)?void 0:s.length)?(0,a.jsx)("ul",{className:"list-disc ml-5",children:e.pdfs.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"underline",children:e.name})},e.url))}):(0,a.jsx)("span",{className:"text-gray-500",children:"—"})})]},e._id)}),!m.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{className:"px-4 py-6 text-gray-500",colSpan:5,children:"No lectures found."})})]})]})})]})}},6890:(e,s,t)=>{"use strict";t.d(s,{F:()=>l,Q:()=>c});let a="https://lms-system-backend-dusky.vercel.app";async function l(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=localStorage.getItem("token"),l=new Headers(s.headers);l.has("Content-Type")||l.set("Content-Type","application/json"),t&&l.set("Authorization","Bearer ".concat(t));let c=await fetch("".concat(a).concat(e),{...s,headers:l,cache:"no-store"});if(!c.ok)throw await c.json().catch(()=>({message:c.statusText}));return await c.json()}async function c(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=await fetch("".concat(a).concat(e),{...s,cache:"no-store"});if(!t.ok)throw await t.json().catch(()=>({message:t.statusText}));return await t.json()}},9112:(e,s,t)=>{Promise.resolve().then(t.bind(t,3751))}},e=>{e.O(0,[441,255,358],()=>e(e.s=9112)),_N_E=e.O()}]);