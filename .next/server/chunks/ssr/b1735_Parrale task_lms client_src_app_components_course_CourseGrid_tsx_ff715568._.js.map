{"version":3,"sources":["turbopack:///[project]/OneDrive/Desktop/Parrale task/lms client/src/app/components/course/CourseGrid.tsx","turbopack:///[project]/OneDrive/Desktop/Parrale task/lms client/src/app/components/course/CourseCard.tsx"],"sourcesContent":["// src/components/course/CourseGrid.tsx\r\n\"use client\";\r\n\r\nimport { useMemo, useState } from \"react\";\r\nimport type { Course } from \"@/lib/types\";\r\nimport CourseCard from \"./CourseCard\";\r\n\r\ntype Props = { courses: Course[] };\r\ntype SortKey = \"relevance\" | \"price_asc\" | \"price_desc\" | \"title\";\r\n\r\nexport default function CourseGrid({ courses }: Props) {\r\n  const [q, setQ] = useState(\"\");\r\n  const [sort, setSort] = useState<SortKey>(\"relevance\");\r\n\r\n  const filtered = useMemo(() => {\r\n    const text = q.trim().toLowerCase();\r\n\r\n    const list = text\r\n      ? courses.filter(\r\n          (c) =>\r\n            c.title.toLowerCase().includes(text) ||\r\n            (c.description ?? \"\").toLowerCase().includes(text)\r\n        )\r\n      : [...courses];\r\n\r\n    switch (sort) {\r\n      case \"price_asc\":\r\n        list.sort((a, b) => a.price - b.price);\r\n        break;\r\n      case \"price_desc\":\r\n        list.sort((a, b) => b.price - a.price);\r\n        break;\r\n      case \"title\":\r\n        list.sort((a, b) => a.title.localeCompare(b.title));\r\n        break;\r\n      default:\r\n        // relevance = keep original order (usually newest first from backend)\r\n        break;\r\n    }\r\n    return list;\r\n  }, [courses, q, sort]);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"mb-4 grid grid-cols-1 gap-3 sm:grid-cols-2\">\r\n        <input\r\n          value={q}\r\n          onChange={(e) => setQ(e.target.value)}\r\n          placeholder=\"Search courses (e.g. TypeScript)…\"\r\n          className=\"w-full rounded-xl border px-3 py-2 outline-none focus:ring-2 focus:ring-black/70\"\r\n        />\r\n        <div className=\"flex items-center gap-2\">\r\n          <label className=\"text-sm text-gray-600 hidden sm:block\">Sort by</label>\r\n          <select\r\n            value={sort}\r\n            onChange={(e: React.ChangeEvent<HTMLSelectElement>) =>\r\n              setSort(e.target.value as SortKey)\r\n            }\r\n            className=\"w-full rounded-xl border px-3 py-2 outline-none focus:ring-2 focus:ring-black/70\"\r\n          >\r\n            <option value=\"relevance\">Relevance</option>\r\n            <option value=\"price_asc\">Price: Low → High</option>\r\n            <option value=\"price_desc\">Price: High → Low</option>\r\n            <option value=\"title\">Title (A–Z)</option>\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <section className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\r\n        {filtered.map((c) => (\r\n          <CourseCard key={c._id} course={c} />\r\n        ))}\r\n        {filtered.length === 0 && (\r\n          <div className=\"text-gray-500\">No course matched your search.</div>\r\n        )}\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n","// src/components/course/CourseCard.tsx\r\nimport Link from \"next/link\";\r\nimport type { Course } from \"@/lib/types\";\r\n\r\nexport default function CourseCard({ course }: { course: Course }) {\r\n  return (\r\n    <Link\r\n      href={`/courses/${course.slug}`}\r\n      className=\"group block rounded-2xl border overflow-hidden shadow-sm hover:shadow-lg transition-shadow\"\r\n    >\r\n      <figure className=\"relative aspect-[16/9] overflow-hidden\">\r\n        <img\r\n          src={course.thumbnailUrl || \"/placeholder.webp\"}\r\n          alt={course.title}\r\n          className=\"absolute inset-0 h-full w-full object-cover transform transition-transform duration-300 group-hover:scale-105\"\r\n        />\r\n        {/* gradient overlay */}\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-black/60 via-black/0 to-transparent\" />\r\n        {/* price pill */}\r\n        <div className=\"absolute top-3 right-3 rounded-full bg-white/90 backdrop-blur px-3 py-1 text-sm font-semibold shadow\">\r\n          ${course.price}\r\n        </div>\r\n      </figure>\r\n\r\n      <div className=\"p-4\">\r\n        <h3 className=\"font-semibold text-lg leading-tight group-hover:underline underline-offset-2\">\r\n          {course.title}\r\n        </h3>\r\n        <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">{course.description}</p>\r\n\r\n        <div className=\"mt-4 flex items-center justify-between\">\r\n          <span className=\"text-xs text-gray-500\">Self-paced • Lifetime access</span>\r\n          <span className=\"inline-flex items-center gap-1 text-sm font-medium text-black group-hover:gap-1.5 transition-all\">\r\n            View course\r\n            <svg\r\n              className=\"h-4 w-4\"\r\n              viewBox=\"0 0 24 24\"\r\n              fill=\"none\"\r\n              stroke=\"currentColor\"\r\n              strokeWidth=\"2\"\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n            >\r\n              <path d=\"M5 12h14\" />\r\n              <path d=\"m12 5 7 7-7 7\" />\r\n            </svg>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}