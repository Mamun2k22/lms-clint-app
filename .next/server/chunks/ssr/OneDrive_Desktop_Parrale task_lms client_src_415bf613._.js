module.exports=[87485,a=>{"use strict";a.s(["api",()=>c,"serverApi",()=>d]);let b="http://localhost:4000";async function c(a,d={}){let e=new Headers(d.headers);e.has("Content-Type")||e.set("Content-Type","application/json");let f=await fetch(`${b}${a}`,{...d,headers:e,cache:"no-store"});if(!f.ok)throw await f.json().catch(()=>({message:f.statusText}));return await f.json()}async function d(a,c={}){let e=await fetch(`${b}${a}`,{...c,cache:"no-store"});if(!e.ok)throw await e.json().catch(()=>({message:e.statusText}));return await e.json()}},24218,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(35113),c=a.i(32856),d=a.i(99477),e=a.i(87485);function f(){let{id:a}=(0,d.useParams)(),[f,g]=(0,c.useState)(null),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)("");async function B(){m(!0);let[b,c,d]=await Promise.all([(0,e.serverApi)("/courses"),(0,e.serverApi)(`/modules?course=${a}`),(0,e.serverApi)(`/lectures?course=${a}`)]);g(b.find(b=>b._id===a)??null),i(c),k(d),c[0]&&u(c[0]._id),m(!1)}(0,c.useEffect)(()=>{B()},[a]);let C=(0,c.useMemo)(()=>{let a=new Map;return h.forEach(b=>a.set(b._id,[])),j.forEach(b=>a.get(b.moduleId)?.push(b)),a},[h,j]);async function D(b){b.preventDefault(),await (0,e.api)("/modules",{method:"POST",body:JSON.stringify({courseId:a,title:n})}),o(""),await B()}async function E(a){await (0,e.api)(`/modules/${a}`,{method:"DELETE"}),await B()}async function F(a){a.preventDefault();let b=v&&x?[{name:v,url:x}]:[];await (0,e.api)("/lectures",{method:"POST",body:JSON.stringify({moduleId:t,title:p,videoUrl:r,pdfs:b})}),q(""),s(""),w(""),y(""),await B()}async function G(a){await (0,e.api)(`/lectures/${a}`,{method:"DELETE"}),await B()}return l?(0,b.jsxs)("div",{className:"mx-auto max-w-6xl p-6 space-y-6",children:[(0,b.jsx)("div",{className:"h-8 w-2/3 rounded bg-gray-200 animate-pulse"}),(0,b.jsx)("div",{className:"h-40 rounded-2xl border bg-white/70 ring-1 ring-gray-100 animate-pulse"}),(0,b.jsx)("div",{className:"h-80 rounded-2xl border bg-white/70 ring-1 ring-gray-100 animate-pulse"})]}):(0,b.jsxs)("div",{className:"mx-auto max-w-6xl p-6 space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"mb-1 flex items-center gap-2 text-xs text-gray-500",children:[(0,b.jsxs)("span",{className:"inline-flex items-center gap-1 rounded-full border px-2 py-0.5",children:[(0,b.jsx)("span",{className:"h-1.5 w-1.5 rounded-full bg-emerald-500"}),"Admin"]}),(0,b.jsx)("span",{children:"â€º"}),(0,b.jsx)("span",{children:"Courses"}),(0,b.jsx)("span",{children:"â€º"}),(0,b.jsx)("span",{className:"font-medium text-gray-700",children:"Manage"})]}),(0,b.jsxs)("h1",{className:"text-2xl font-bold tracking-tight",children:["Manage: ",(0,b.jsx)("span",{className:"font-extrabold",children:f?.title})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600",children:"Add modules and lectures. Changes are applied instantly."})]}),(0,b.jsxs)("a",{href:`/learn/${a}`,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 rounded-xl bg-gray-900 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition hover:bg-black active:scale-[0.98]",children:[(0,b.jsx)("span",{className:"-ml-1",children:"â–¶"})," Open Learn View"]})]}),(0,b.jsxs)("section",{className:"rounded-2xl border bg-white/80 backdrop-blur shadow-sm ring-1 ring-gray-100",children:[(0,b.jsx)("div",{className:"flex items-center justify-between border-b px-5 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-black text-white",children:"ðŸ“¦"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold",children:"Modules"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Organize your course into sections."})]})]})}),(0,b.jsxs)("div",{className:"px-5 py-5 space-y-5",children:[(0,b.jsxs)("form",{onSubmit:D,className:"flex flex-col gap-2 sm:flex-row",children:[(0,b.jsx)("input",{className:"h-11 w-full rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"Module title",value:n,onChange:a=>o(a.target.value)}),(0,b.jsx)("button",{className:"inline-flex items-center justify-center rounded-xl bg-gray-900 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition hover:bg-black active:scale-[0.98]",type:"submit",children:"Add"})]}),0===h.length?(0,b.jsx)("div",{className:"rounded-xl border border-dashed bg-white/70 p-8 text-center text-sm text-gray-600 ring-1 ring-gray-100",children:"No modules yet. Create your first module above."}):(0,b.jsx)("ul",{className:"grid gap-3",children:h.map(a=>(0,b.jsxs)("li",{className:"flex items-center justify-between rounded-2xl border bg-white p-4 shadow-sm ring-1 ring-gray-100",children:[(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"truncate text-sm font-semibold",children:["Module ",a.moduleNo,": ",a.title]}),(0,b.jsx)("div",{className:"mt-0.5 text-[11px] text-gray-500",children:a._id})]}),(0,b.jsx)("button",{onClick:()=>E(a._id),className:"inline-flex items-center justify-center rounded-lg border bg-white px-3 py-1.5 text-sm text-red-600 shadow-sm ring-1 ring-gray-200 transition hover:bg-red-50 hover:border-red-200",children:"Delete"})]},a._id))})]})]}),(0,b.jsxs)("section",{className:"rounded-2xl border bg-white/80 backdrop-blur shadow-sm ring-1 ring-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b px-5 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-xl bg-black text-white",children:"ðŸŽ¬"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-base font-semibold",children:"Lectures"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Add videos and documents under each module."})]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{placeholder:"Search lecture by titleâ€¦",className:"h-10 w-72 rounded-xl border border-gray-200 bg-white pl-9 pr-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition max-sm:w-56",value:z,onChange:a=>A(a.target.value)}),(0,b.jsx)("span",{className:"pointer-events-none absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",children:"ðŸ”Ž"})]})]}),(0,b.jsx)("div",{className:"px-5 py-5",children:(0,b.jsxs)("form",{onSubmit:F,className:"grid gap-3 md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsx)("select",{className:"h-11 rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",value:t,onChange:a=>u(a.target.value),children:h.map(a=>(0,b.jsxs)("option",{value:a._id,children:["Module ",a.moduleNo," â€” ",a.title]},a._id))}),(0,b.jsx)("input",{className:"h-11 rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"Lecture title",value:p,onChange:a=>q(a.target.value)}),(0,b.jsx)("input",{className:"h-11 rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"YouTube URL",value:r,onChange:a=>s(a.target.value)}),(0,b.jsx)("input",{className:"h-11 rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"PDF name (optional)",value:v,onChange:a=>w(a.target.value)}),(0,b.jsx)("input",{className:"h-11 rounded-xl border border-gray-200 bg-white px-3 text-sm outline-none focus:border-gray-300 focus:ring-2 focus:ring-gray-900/10 transition",placeholder:"PDF url (optional)",value:x,onChange:a=>y(a.target.value)}),(0,b.jsx)("button",{className:"inline-flex items-center justify-center rounded-xl bg-gray-900 px-4 py-2.5 text-sm font-medium text-white shadow-sm transition hover:bg-black active:scale-[0.98]",type:"submit",children:"Add Lecture"})]})}),(0,b.jsx)("div",{className:"px-5 pb-6 space-y-5",children:h.map(a=>(0,b.jsxs)("div",{className:"rounded-2xl border bg-white p-4 shadow-sm ring-1 ring-gray-100",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"text-sm font-semibold",children:["Module ",a.moduleNo,": ",a.title]}),(0,b.jsxs)("span",{className:"rounded-full border bg-white px-2.5 py-1 text-xs text-gray-700 shadow-sm",children:[C.get(a._id)?.length??0," lecture(s)"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full text-sm",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"text-left text-gray-600",children:[(0,b.jsx)("th",{className:"py-2 pr-3",children:"Order"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Title"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"Video"}),(0,b.jsx)("th",{className:"py-2 pr-3",children:"PDFs"}),(0,b.jsx)("th",{className:"py-2 pr-3"})]})}),(0,b.jsxs)("tbody",{children:[(C.get(a._id)??[]).filter(a=>a.title.toLowerCase().includes(z.toLowerCase())).map((a,c)=>(0,b.jsxs)("tr",{className:c%2==0?"bg-white":"bg-gray-50/60",children:[(0,b.jsx)("td",{className:"py-2 pr-3",children:a.order}),(0,b.jsx)("td",{className:"py-2 pr-3",children:a.title}),(0,b.jsx)("td",{className:"py-2 pr-3 max-w-[320px] truncate",children:a.videoUrl}),(0,b.jsx)("td",{className:"py-2 pr-3",children:a.pdfs?.length?a.pdfs.map(a=>(0,b.jsxs)("a",{href:a.url,target:"_blank",className:"mr-2 inline-flex items-center gap-1 rounded-full border bg-white px-2.5 py-1 text-xs underline decoration-gray-300 shadow-sm ring-1 ring-gray-200 hover:bg-gray-50",children:["ðŸ“„ ",a.name]},a.url)):(0,b.jsx)("span",{className:"text-gray-400",children:"â€”"})}),(0,b.jsx)("td",{className:"py-2 pr-0 text-right",children:(0,b.jsx)("button",{onClick:()=>G(a._id),className:"inline-flex items-center justify-center rounded-lg border bg-white px-2.5 py-1.5 text-xs text-red-600 shadow-sm ring-1 ring-gray-200 transition hover:bg-red-50 hover:border-red-200",children:"Delete"})})]},a._id)),!C.get(a._id)?.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{className:"py-3 text-gray-500",colSpan:5,children:"No lectures"})})]})]})})]},a._id))})]})]})}}];

//# sourceMappingURL=OneDrive_Desktop_Parrale%20task_lms%20client_src_415bf613._.js.map